<!DOCTYPE html>
<html lang="en" ng-app="myApp" ng-controller="MainCtrl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="theme-color" content="#000000" />
    <link href="scss/theme.css" type="text/css" rel="Stylesheet" />
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="img/favicon.png" type="image/png" />
    <title>The Dream Centre</title>
    <link href="node_modules/hc-offcanvas-nav/src/scss/hc-offcanvas-nav.css" rel="stylesheet" />
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/hc-offcanvas-nav/src/js/hc-offcanvas-nav.js"></script>
    <script src="node_modules/popper.js/dist/umd/popper.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
    <script src="js/app.js"></script>
    <!-- Facebook Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(window, document, "script", "https://connect.facebook.net/en_US/fbevents.js");
      fbq("init", "953981534727552");
      fbq("track", "PageView");
    </script>
    <noscript><img height="1" width="1" style="display: none" src="https://www.facebook.com/tr?id=953981534727552&ev=PageView&noscript=1" /></noscript>
    <!-- End Facebook Pixel Code -->
  </head>
  <body class="" ng-init="getScheduleData()">
    <!-- banner include -->
    <div class="d-none d-lg-block" ng-include src="'banner_new.html'"></div>
    <div class="d-lg-none" ng-include src="'_banner-slide.html'"></div>
    <!-- / banner include -->

    <div class="container pb-5 pt-5 mt-5">
      <div class="h2 font-tdc text-dark text-center text-uppercase py-4">Program Schedules</div>

      <!-- spinner for getting schedule data -->
      <div ng-hide="scheduledatareturned" class="h5 text-center m-0 pt-4 pb-5 font-weight-light"><i class="fas fa-spinner fa-pulse mr-1"></i>Getting schedule data...</div>

      <div class="row pt-3" ng-show="scheduledatareturned">
        <div class="col-12">
          <div class="card bg-light mb-3">
            <div class="card-header py-1 px-2 font-weight-bold">Filters &amp; Search</div>
            <div class="card-body">
              <div class="row">
                <div class="col-12 col-lg-5 py-2">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder='Search by keyword (eg. "Ballet")...' ng-model="searchparam" aria-describedby="searchaddon" />
                    <div class="input-group-append" ng-show="searchparam">
                      <button class="btn btn-outline-dark" type="button" id="searchaddon" ng-click="searchparam = ''"><i class="fa fa-times fa-sm"></i></button>
                    </div>
                    <div class="input-group-append d-lg-none" ng-show="searchparam">
                      <button class="btn btn-outline-dark" type="button" id="searchaddon" ng-click="searchDone($event)"><i class="fa fa-check"></i></button>
                    </div>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4 py-2">
                  <select ng-model="scheduleType" class="form-control">
                    <option value="">All classes</option>
                    <option value="Dance">Dance</option>
                    <option value="Gymnastics">Gymnastics</option>
                    <option value="Martial Arts">Martial Arts</option>
                    <option value="Camp">Camps</option>
                  </select>
                </div>
                <div class="col-12 col-md-6 col-lg-3 py-2">
                  <div class="input-group">
                    <input type="number" ng-model="age" class="form-control" placeholder="Age..." aria-label="Age..." aria-describedby="age-addon" />
                    <div class="input-group-append">
                      <span class="input-group-text" id="age-addon">years</span>
                    </div>
                  </div>
                </div>
                <div class="col-12 py-2">
                  <div class="row px-3">
                    <div class="col p-0">
                      <input ng-model="dayFilters['mon']" id="Monday" class="checkbox-custom" name="Monday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Monday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.mon"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.mon"><i class="far fa-square"></i></div>
                        <div>Monday</div>
                      </label>
                    </div>
                    <div class="col p-0">
                      <input ng-model="dayFilters['tue']" id="Tuesday" class="checkbox-custom" name="Tuesday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Tuesday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.tue"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.tue"><i class="far fa-square"></i></div>
                        <div>Tuesday</div>
                      </label>
                    </div>
                    <div class="col p-0">
                      <input ng-model="dayFilters['wed']" id="Wednesday" class="checkbox-custom" name="Wednesday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Wednesday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.wed"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.wed"><i class="far fa-square"></i></div>
                        <div>Wednesday</div>
                      </label>
                    </div>
                    <div class="col p-0">
                      <input ng-model="dayFilters['thu']" id="Thursday" class="checkbox-custom" name="Thursday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Thursday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.thu"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.thu"><i class="far fa-square"></i></div>
                        <div>Thursday</div>
                      </label>
                    </div>
                    <div class="col p-0">
                      <input ng-model="dayFilters['fri']" id="Friday" class="checkbox-custom" name="Friday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Friday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.fri"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.fri"><i class="far fa-square"></i></div>
                        <div>Friday</div>
                      </label>
                    </div>
                    <div class="col p-0">
                      <input ng-model="dayFilters['sat']" id="Saturday" class="checkbox-custom" name="Saturday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Saturday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.sat"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.sat"><i class="far fa-square"></i></div>
                        <div>Saturday</div>
                      </label>
                    </div>
                    <div class="col p-0">
                      <input ng-model="dayFilters['sun']" id="Sunday" class="checkbox-custom" name="Sunday" type="checkbox" ng-change="changeFilters()" />
                      <label for="Sunday" class="checkbox-custom-label">
                        <div ng-show="dayFilters.sun"><i class="fas fa-check-square"></i></div>
                        <div ng-show="!dayFilters.sun"><i class="far fa-square"></i></div>
                        <div>Sunday</div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12">
          <!-- <div class="small">
<pre>{{scheduledata|json}}</pre>
                    </div> -->
          <div class="">
            <div class="d-none d-lg-block">
              <table class="table table-striped table-hover">
                <thead class="thead-dark thead-sm">
                  <tr>
                    <th></th>
                    <th width="40%">Class</th>
                    <th>When</th>
                    <th>Age(s)</th>
                    <th>Tuition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in resultscheck = (scheduledata | orderBy:'category1' | filter:searchparam | filter:{category1:scheduleType} | filter:filterDay | filter:filterAge | filter:{category1:'!Before and After School Program'})">
                    <td>
                      <a ng-if="item.online_reg_link" ng-href="{{item.online_reg_link}}" target="_blank" class="font-weight-normal">
                        <span ng-if="item.openings.calculated_openings > 0">Register</span>
                        <span ng-if="item.openings.calculated_openings <= 0">Wait List</span>
                      </a>
                    </td>
                    <td>
                      {{item.name}}
                      <div class="small font-weight-light">{{item.category1}} | {{item.category2}} | {{item.category3}}</div>
                    </td>
                    <td class="">
                      <span ng-hide="item.category1 == 'Family Tree'">
                        <div>
                          <span class="text-uppercase" ng-repeat="day in item.meeting_days.daylist">{{day}} </span>
                          <span class="mx-1">|</span>
                          <span>{{item.start_time}} - {{item.end_time}}</span>
                        </div>
                        <div class="small font-weight-light">{{item.start_date | date:'mediumDate'}} - {{item.end_date | date:'mediumDate'}}</div>
                      </span>
                    </td>
                    <td><span ng-hide="item.category1 == 'Family Tree'">{{item.min_age}} - {{item.max_age}}</span></td>
                    <td>
                      <div ng-show="item.tuition.fee > 0">
                        {{item.tuition.fee | currency}}
                        <div class="small font-weight-light">monthly</div>
                      </div>
                    </td>
                  </tr>
                  <tr ng-show="resultscheck.length < 1">
                    <td colspan="7" class="text-center p-3">
                      <div class="h5 font-weight-bold text-danger"><i class="fa fa-exclamation-circle fa-sm mr-2"></i>No classes found using your filters.</div>
                      <div class="h6 font-weight-light">Please modify your search and/or filters to find classes.</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- Mobile device (small screen) class view -->
            <div class="d-block d-lg-none pt-3">
              <table class="table table-striped">
                <tbody>
                  <tr ng-repeat="item in resultscheck = (scheduledata | orderBy:'name' | filter:searchparam | filter:{category1:scheduleType} | filter:filterDay | filter:filterAge | filter:{category1:'!Before and After School Program'})">
                    <td>
                      <div class="">
                        {{item.name}}
                        <div class="small font-weight-light">{{item.category1}} | {{item.category2}} | {{item.category3}}</div>
                      </div>
                      <div class="font-weight-light text-uppercase pt-1">
                        <span ng-hide="item.category1 == 'Family Tree'">
                          <span ng-repeat="day in item.meeting_days.daylist">{{day}} </span>
                          <span class="mx-1">|</span>
                          <span>{{item.start_time}} - {{item.end_time}}</span>
                        </span>
                      </div>
                      <div class="small font-weight-light">{{item.start_date | date:'mediumDate'}} - {{item.end_date | date:'mediumDate'}}</div>
                      <div class="font-weight-light pt-1"><span ng-hide="item.category1 == 'Family Tree'">Ages {{item.min_age}} - {{item.max_age}} | </span>{{item.tuition.fee | currency}} monthly</div>
                      <div class="text-right">
                        <a ng-if="item.online_reg_link" ng-href="{{item.online_reg_link}}" target="_blank" class="font-weight-normal">Register <i class="fa fa-angle-right"></i></a>
                      </div>
                    </td>
                  </tr>
                  <tr ng-show="resultscheck.length < 1">
                    <td colspan="7" class="text-center p-3">
                      <div class="h5 font-weight-bold text-danger"><i class="fa fa-exclamation-circle fa-sm mr-2"></i>No classes match your filters.</div>
                      <div class="h6 font-weight-light">Please modify your search and/or filters to find classes.</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- footer include -->
    <div ng-include src="'footer.html'"></div>
    <!-- / footer include -->
  </body>
</html>
